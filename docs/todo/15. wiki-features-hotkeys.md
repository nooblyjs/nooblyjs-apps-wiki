# Hotkeys / Keyboard Shortcuts

## Requirement
Create a comprehensive keyboard shortcut system for the application. Implement hotkeys for creating files/folders, searching, uploading, and general navigation. Shortcuts should follow platform conventions (Ctrl on Windows/Linux, Cmd on Mac).

## Implementation Todo List

### Phase 1: Hotkey System Infrastructure
- [ ] Create keyboard shortcut manager `src/views/js/modules/hotkeyManager.js`
  - [ ] Create hotkey registry (map of shortcuts to actions)
  - [ ] Implement hotkey conflict detection and resolution
  - [ ] Add priority system for hotkey handling
  - [ ] Implement enable/disable functionality for hotkeys
  - [ ] Add hotkey scope context (global, editor, navigation, etc.)
- [ ] Implement event handling
  - [ ] Listen to `keydown` events on document
  - [ ] Detect key combinations (Ctrl/Cmd, Shift, Alt)
  - [ ] Handle browser-specific key names
  - [ ] Prevent conflicts with browser shortcuts
  - [ ] Add focus detection (which element has focus)

### Phase 2: Cross-Platform Support
- [ ] Implement OS detection
  - [ ] Detect Windows/Linux vs Mac
  - [ ] Use Ctrl for Windows/Linux, Cmd for Mac
  - [ ] Show appropriate modifier in UI
- [ ] Handle platform-specific keys
  - [ ] Meta key for Mac (Cmd)
  - [ ] Control key for Windows/Linux
  - [ ] Alt for Windows/Linux menus
  - [ ] Option for Mac alternatives
- [ ] Create key name mapping
  - [ ] Map physical keys to logical names (for consistency)
  - [ ] Handle special keys (Enter, Space, Tab, Escape, etc.)
  - [ ] Handle function keys (F1-F12)
  - [ ] Handle arrow keys and navigation keys

### Phase 3: Core File Operations

#### Create File Hotkey
- [ ] Shortcut: `Ctrl+N` (Windows/Linux) or `Cmd+N` (Mac)
  - [ ] Open "Create New File" dialog
  - [ ] Set focus to filename input
  - [ ] Auto-focus with default name selected
  - [ ] Allow quick typing to set name
  - [ ] Create file on Enter press

#### Create Folder Hotkey
- [ ] Shortcut: `Ctrl+Shift+N` (Windows/Linux) or `Cmd+Shift+N` (Mac)
  - [ ] Open "Create New Folder" dialog
  - [ ] Set focus to folder name input
  - [ ] Auto-focus with default name selected
  - [ ] Create folder on Enter press

#### Rename File/Folder Hotkey
- [ ] Shortcut: `F2` (universal)
  - [ ] Rename currently selected item
  - [ ] Open rename dialog with current name
  - [ ] Auto-select text for easy editing
  - [ ] Confirm on Enter, cancel on Escape

#### Delete File/Folder Hotkey
- [ ] Shortcut: `Delete` or `Backspace`
  - [ ] Delete selected file/folder
  - [ ] Show confirmation dialog
  - [ ] Move to trash/recycle bin (if implemented)
  - [ ] Warn if file is unsaved

#### Duplicate File Hotkey
- [ ] Shortcut: `Ctrl+D` (Windows/Linux) or `Cmd+D` (Mac)
  - [ ] Create copy of selected file
  - [ ] Name: `{filename}-copy.{ext}`
  - [ ] Place in same folder
  - [ ] Navigate to new file

### Phase 4: Edit Operations

#### Save File Hotkey
- [ ] Shortcut: `Ctrl+S` (Windows/Linux) or `Cmd+S` (Mac)
  - [ ] Save current document
  - [ ] Show save indicator
  - [ ] Disable shortcut if no changes
  - [ ] Handle unsaved files notification
- [ ] Save All Hotkey
  - [ ] Shortcut: `Ctrl+Shift+S` (Windows/Linux) or `Cmd+Shift+S` (Mac)
  - [ ] Save all open tabs/documents
  - [ ] Show count of saved files
  - [ ] Notification when complete

#### Undo/Redo Hotkeys
- [ ] Undo: `Ctrl+Z` (Windows/Linux) or `Cmd+Z` (Mac)
  - [ ] Undo last action in editor
  - [ ] Undo file operations (if applicable)
  - [ ] Show undo history hint
- [ ] Redo: `Ctrl+Y` (Windows/Linux) or `Cmd+Y` (Mac)
  - [ ] Redo last undone action
  - [ ] Support keyboard alternative: `Ctrl+Shift+Z`

#### Cut/Copy/Paste Hotkeys
- [ ] Cut: `Ctrl+X` (both platforms)
  - [ ] Cut selected text in editor
  - [ ] Cut selected files in navigation
  - [ ] Show indicator of cut items
- [ ] Copy: `Ctrl+C` (both platforms)
  - [ ] Copy selected text in editor
  - [ ] Copy file path or name
  - [ ] Copy selected files for paste
- [ ] Paste: `Ctrl+V` (both platforms)
  - [ ] Paste in editor
  - [ ] Paste files in navigation
  - [ ] From clipboard (images, text, etc.)

#### Select All Hotkey
- [ ] Shortcut: `Ctrl+A` (both platforms)
  - [ ] Select all text in editor
  - [ ] Select all files in current folder
  - [ ] Context-aware behavior

### Phase 5: Navigation Hotkeys

#### Tab Navigation
- [ ] Next Tab: `Ctrl+Tab`
  - [ ] Switch to next open tab
  - [ ] Wrap to first tab at end
- [ ] Previous Tab: `Ctrl+Shift+Tab`
  - [ ] Switch to previous open tab
  - [ ] Wrap to last tab at start
- [ ] Numbered Tab Access: `Ctrl+1` to `Ctrl+9`
  - [ ] Jump directly to numbered tab
  - [ ] `Ctrl+9` for last tab
  - [ ] Ignore if tab doesn't exist

#### Folder Navigation
- [ ] Up One Level: `Alt+Up` or `Cmd+Up`
  - [ ] Navigate to parent folder
  - [ ] Update breadcrumb trail
- [ ] Back in History: `Alt+Left` or `Cmd+Left`
  - [ ] Go to previous viewed folder
  - [ ] Browser-like navigation
- [ ] Forward in History: `Alt+Right` or `Cmd+Right`
  - [ ] Go to next viewed folder
  - [ ] Browser-like navigation

#### Space Navigation
- [ ] Switch Next Space: `Ctrl+Shift+]`
  - [ ] Cycle to next space (Personal → Shared → Read-Only → Personal)
- [ ] Switch Previous Space: `Ctrl+Shift+[`
  - [ ] Cycle to previous space

#### Focus Navigation
- [ ] Focus Navigation Panel: `Ctrl+1` or `Cmd+1`
  - [ ] Set focus to file tree/navigation
- [ ] Focus Content Area: `Ctrl+2` or `Cmd+2`
  - [ ] Set focus to document content
- [ ] Focus Search: `Ctrl+3` or `Cmd+3`
  - [ ] Set focus to search box

### Phase 6: Search & Find

#### Search Hotkey
- [ ] Global Search: `Ctrl+F` (Windows/Linux) or `Cmd+F` (Mac)
  - [ ] Open search dialog/panel
  - [ ] Set focus to search input
  - [ ] Auto-select current selection if any
  - [ ] Show recent searches
- [ ] Find in Document: `Ctrl+Shift+F`
  - [ ] Open find-and-replace dialog
  - [ ] Useful for markdown editor
- [ ] Find Next: `F3` or `Ctrl+G`
  - [ ] Jump to next search result
  - [ ] Highlight in document
- [ ] Find Previous: `Shift+F3` or `Ctrl+Shift+G`
  - [ ] Jump to previous search result
  - [ ] Highlight in document
- [ ] Clear Search: `Escape`
  - [ ] Close search dialog
  - [ ] Clear search filters
  - [ ] Return focus to content

### Phase 7: File Upload

#### Upload File Hotkey
- [ ] Shortcut: `Ctrl+U` (Windows/Linux) or `Cmd+U` (Mac)
  - [ ] Open file upload dialog
  - [ ] Set to current folder
  - [ ] Allow multiple file selection
  - [ ] Show upload progress

#### Paste from Clipboard Hotkey
- [ ] Shortcut: `Ctrl+Shift+V`
  - [ ] Trigger clipboard paste handler
  - [ ] Show paste progress
  - [ ] Auto-insert in markdown if editing

### Phase 8: Markdown Editor Hotkeys

#### Markdown Formatting
- [ ] Bold: `Ctrl+B` or `Cmd+B`
  - [ ] Wrap selection in `**text**`
  - [ ] Or insert `****` if no selection
- [ ] Italic: `Ctrl+I` or `Cmd+I`
  - [ ] Wrap selection in `*text*`
  - [ ] Or insert `**` if no selection
- [ ] Code: `Ctrl+`` (backtick)
  - [ ] Wrap selection in backticks
  - [ ] Or insert `` ` ` `` if no selection
- [ ] Code Block: `Ctrl+Shift+`` (backtick)
  - [ ] Create code block: ` ```javascript ` ` ```
  - [ ] Auto-indent content
  - [ ] Detect language if possible
- [ ] Heading: `Ctrl+1` through `Ctrl+6`
  - [ ] Convert line to H1-H6
  - [ ] Or insert heading if no selection
- [ ] Link: `Ctrl+K`
  - [ ] Wrap selection as link placeholder
  - [ ] Or insert `[text](url)` format
- [ ] Image: `Ctrl+Shift+I`
  - [ ] Insert image syntax: `![alt](path)`
  - [ ] Or open image picker dialog
- [ ] List: `Ctrl+Shift+L`
  - [ ] Convert line to bullet list
  - [ ] Or toggle list mode
- [ ] Quote: `Ctrl+Q`
  - [ ] Convert line to block quote (add `>`)
  - [ ] Or insert quote block if no selection

#### Markdown Editor Navigation
- [ ] Preview Toggle: `Ctrl+Shift+P`
  - [ ] Toggle between edit and preview
  - [ ] Or show side-by-side preview
- [ ] Full Screen: `F11` or `Escape` for exit
  - [ ] Enter distraction-free mode
  - [ ] Hide panels
  - [ ] Full height editor

### Phase 9: View & Display

#### Zoom Controls
- [ ] Zoom In: `Ctrl+Plus` (both platforms)
  - [ ] Increase font size
  - [ ] Increase UI scale
  - [ ] Minimum reasonable limit
- [ ] Zoom Out: `Ctrl+Minus` (both platforms)
  - [ ] Decrease font size
  - [ ] Decrease UI scale
  - [ ] Minimum readable size
- [ ] Reset Zoom: `Ctrl+0`
  - [ ] Return to default zoom level

#### Theme/Display
- [ ] Toggle Dark Mode: `Ctrl+Shift+D`
  - [ ] Toggle between light and dark theme
  - [ ] Save preference
- [ ] Increase Sidebar Width: `Ctrl+]`
  - [ ] Expand left sidebar
  - [ ] Limit to max width
- [ ] Decrease Sidebar Width: `Ctrl+[`
  - [ ] Collapse left sidebar
  - [ ] Limit to min width
- [ ] Toggle Sidebar: `Ctrl+Shift+,`
  - [ ] Hide/show left navigation panel
  - [ ] Maximize content area

### Phase 10: Help & Info

#### Help Hotkeys
- [ ] Show Help: `F1` or `?`
  - [ ] Open help modal/panel
  - [ ] Show keyboard shortcuts
  - [ ] Link to documentation
- [ ] Show Hotkey Reference: `Ctrl+?` or `Cmd+?`
  - [ ] Display keyboard shortcut cheat sheet
  - [ ] Searchable/filterable list
  - [ ] Print-friendly format
  - [ ] Customizable by user

#### About/Settings
- [ ] Settings: `Ctrl+,` (comma)
  - [ ] Open application settings
  - [ ] Show preferences panel
- [ ] Keyboard Settings: Submenu in Settings
  - [ ] Enable/disable hotkeys
  - [ ] Customize hotkeys
  - [ ] Show current shortcuts
  - [ ] Reset to defaults

### Phase 11: Advanced Navigation

#### Breadcrumb Navigation
- [ ] Home: `Ctrl+Home` or `Cmd+Home`
  - [ ] Navigate to home/root
  - [ ] Or first space
- [ ] Go to Path: `Ctrl+G`
  - [ ] Open "Go to Folder" dialog
  - [ ] Type folder path
  - [ ] Jump to location

#### Expanded Navigation (if implemented)
- [ ] Expand Folder: `Right Arrow` (on selected folder)
  - [ ] Show folder contents
  - [ ] Expand tree view
- [ ] Collapse Folder: `Left Arrow` (on expanded folder)
  - [ ] Hide folder contents
  - [ ] Collapse tree view

### Phase 12: Accessibility Hotkeys

#### Screen Reader Support
- [ ] Announce Current Item: `Alt+A`
  - [ ] Read currently selected item details
  - [ ] File name, type, size, date
- [ ] Announce Context: `Alt+C`
  - [ ] Read current view/context
  - [ ] Current folder, space, mode

#### Navigation Aids
- [ ] Skip to Content: `Skip Link` or `Ctrl+Shift+1`
  - [ ] Jump main content area
  - [ ] Browser standard
- [ ] Skip to Navigation: `Ctrl+Shift+2`
  - [ ] Jump to file tree
  - [ ] Browser standard

### Phase 13: Hotkey UI & Documentation

#### Hotkey Display
- [ ] Show hints in UI
  - [ ] Display shortcut next to menu items
  - [ ] Show in button tooltips
  - [ ] Format: `Ctrl+N` or `Cmd+N` (platform-aware)
- [ ] Hotkey help dialog
  - [ ] Organized by category
  - [ ] Search/filter capability
  - [ ] Print-friendly format
  - [ ] Copy to clipboard
- [ ] Context-sensitive hints
  - [ ] Show available shortcuts in current context
  - [ ] Dismiss on demand

### Phase 14: User Customization

#### Custom Hotkeys
- [ ] Allow user customization
  - [ ] Map custom shortcuts to actions
  - [ ] Conflict detection and warnings
  - [ ] Validation of valid key combinations
- [ ] Save custom shortcuts
  - [ ] Store in user preferences
  - [ ] Export/import shortcut sets
  - [ ] Reset to defaults option
- [ ] Create preset profiles
  - [ ] Vim-like shortcuts (optional advanced feature)
  - [ ] Emacs-like shortcuts
  - [ ] Standard shortcuts (default)

### Phase 15: Disable/Enable System

#### Global Control
- [ ] Enable/disable hotkeys globally
  - [ ] Checkbox in settings
  - [ ] Affects all shortcuts
  - [ ] Useful when in text input
- [ ] Context-aware disabling
  - [ ] Disable in certain text inputs (searchbox, rename, etc.)
  - [ ] Re-enable when context changes
  - [ ] Don't interfere with browser defaults

### Phase 16: Testing

#### Unit Tests
- [ ] Test hotkey parsing
  - [ ] Parse key combinations correctly
  - [ ] Handle different key formats
  - [ ] Platform-specific key names
- [ ] Test conflict detection
  - [ ] Detect overlapping shortcuts
  - [ ] Test priority system
  - [ ] Test override mechanisms

#### Integration Tests
- [ ] Test hotkey triggering
  - [ ] Keyboard events fire correct actions
  - [ ] Modifiers (Ctrl, Shift, Alt) work
  - [ ] Platform-specific behavior
- [ ] Test in different contexts
  - [ ] In editor
  - [ ] In navigation
  - [ ] In dialogs
  - [ ] With modals

#### Manual Testing
- [ ] Test each hotkey thoroughly
- [ ] Test platform-specific variants
- [ ] Test with different keyboard layouts
- [ ] Test accessibility features
- [ ] Test with screen readers

### Phase 17: Documentation

#### User Documentation
- [ ] Create hotkey reference guide
  - [ ] Organized by category
  - [ ] Platform-specific notation
  - [ ] Searchable format
- [ ] Update CLAUDE.md
  - [ ] List all hotkeys
  - [ ] Document customization
  - [ ] Link to full reference
- [ ] Create user guide sections
  - [ ] Common workflows with hotkeys
  - [ ] Time-saving tips
  - [ ] Platform-specific guides

#### Developer Documentation
- [ ] Document hotkey system architecture
- [ ] Explain how to add new hotkeys
- [ ] Document hotkey API
- [ ] Provide code examples

### Phase 18: Performance & Optimization

#### Efficiency
- [ ] Optimize key event handling
  - [ ] Minimal DOM queries
  - [ ] Debounce if needed
  - [ ] Cache selectors
- [ ] Minimize memory footprint
  - [ ] Lazy load hotkey handlers
  - [ ] Clean up event listeners
  - [ ] Avoid memory leaks

### Phase 19: Cross-Browser Testing

#### Browser Compatibility
- [ ] Test Chrome/Chromium
- [ ] Test Firefox
- [ ] Test Safari
- [ ] Test Edge
- [ ] Test mobile browsers (if applicable)

#### OS-Specific Testing
- [ ] Windows (Ctrl-based shortcuts)
- [ ] Mac (Cmd-based shortcuts)
- [ ] Linux (Ctrl-based shortcuts)
